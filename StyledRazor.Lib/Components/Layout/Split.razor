<Styled
    Type=@Div
    stretch-all=@StretchAll>
    @ChildContent
</Styled>

@code {

    Styled Div =>
        new($@"
				div {{
					display: flex;
					flex-wrap: nowrap;
					height: inherit;
					min-height: inherit;
				}}
				
				div[stretch-all] > *  {{
					flex: 1 
				}}
				
				div > :nth-child({StretchIndex}) {{
					flex: 1
				}}
			", typeof(Split));

    private int? _stretchedIndex;

    [Parameter]
    public bool StretchAll { get; set; }

    [Parameter]
    public int? StretchIndex
    {
        get => _stretchedIndex;
        set
        {
            if (value < 0) throw new ArgumentOutOfRangeException(nameof(value));
            _stretchedIndex = value + 1;
        }
    }

    [Parameter]
    public RenderFragment ChildContent { get; set; }

}