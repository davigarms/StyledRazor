<Render 
	Component=@Wrapper 
	stretch-all=@StretchAll
>
	@ChildContent
</Render>

@code {
	private Styled Wrapper =>
		new Styled()
			.Component(this)
			.Css($@"
				:root {{
					display: flex;
					flex-wrap: nowrap;
					height: inherit;
					min-height: inherit;
				}}
				
				:root[stretch-all] > *  {{
					flex: 1 
				}}
				
				:root > :nth-child({StretchIndex}) {{
					flex: 1
				}}
			");
	
	private int? _stretchedIndex;

	[Parameter]
	public bool StretchAll { get; set; }

	[Parameter]
	public int? StretchIndex
	{
		get => _stretchedIndex;
		set
		{
			if (value < 0) throw new ArgumentOutOfRangeException(nameof(value));
			_stretchedIndex = value + 1;
		}
	}

	[Parameter]
	public RenderFragment ChildContent { get; set; }
}