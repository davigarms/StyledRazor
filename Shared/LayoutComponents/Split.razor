@using BlazorApp.Lib.Styled
@(new Styled()
	.As("split")
	.WithContent(ChildContent)
	.WithParams(new Params()
	{
		{"stretch", StretchAll}
	})
	.WithCss($@"
		div {{
			display: flex;
			flex-wrap: nowrap;
			height: inherit;
			min-height: inherit;
		}}
		
		div[stretch] > *  {{ 
			flex: 1 
		}}
		
		div > :nth-child({StretchIndex}) {{
			flex: 1
		}} 
	")
	.Render())

@code {
	private int? _stretchedIndex;

	[Parameter]
	public bool StretchAll { get; set; }

	[Parameter]
	public int? StretchIndex
	{
		get => _stretchedIndex;
		set
		{
			if (value < 0) throw new ArgumentOutOfRangeException(nameof(value));
			_stretchedIndex = value + 1;
		}
	}

	[Parameter]
	public RenderFragment ChildContent { get; set; }
}